<div class="dashboard-container">
  <div class="dashboard-header">
    <h1>ğŸ“Š Dashboard</h1>
    <p>VisÃ£o geral do sistema</p>
  </div>

  <div class="loading" *ngIf="loading">
    <p>Carregando dados...</p>
  </div>

  <div class="dashboard-content" *ngIf="!loading">
    <!-- Cards de Resumo -->
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-icon">ğŸ“¦</div>
        <div class="stat-info">
          <h3>Total de Produtos</h3>
          <p class="stat-value">{{ totalProducts }}</p>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon">ğŸ’°</div>
        <div class="stat-info">
          <h3>Valor do Estoque</h3>
          <p class="stat-value">{{ formatCurrency(totalStockValue) }}</p>
        </div>
      </div>

      <div class="stat-card" [class.active]="activeSession" [class.inactive]="!activeSession">
        <div class="stat-icon">{{ activeSession ? 'ğŸŸ¢' : 'ğŸ”´' }}</div>
        <div class="stat-info">
          <h3>SessÃ£o</h3>
          <p class="stat-value">{{ activeSession ? 'Ativa' : 'Inativa' }}</p>
          <p class="stat-subtitle" *ngIf="activeSession">{{ activeSession.nome }}</p>
        </div>
      </div>

      <div class="stat-card alert" *ngIf="lowStockProducts.length > 0">
        <div class="stat-icon">âš ï¸</div>
        <div class="stat-info">
          <h3>Estoque Baixo</h3>
          <p class="stat-value">{{ lowStockProducts.length }}</p>
          <p class="stat-subtitle">produtos</p>
        </div>
      </div>
    </div>

    <!-- Produtos com Estoque Baixo -->
    <div class="section" *ngIf="lowStockProducts.length > 0">
      <div class="section-header">
        <h2>âš ï¸ Produtos com Estoque Baixo</h2>
        <a routerLink="/products" class="btn-link">Ver todos</a>
      </div>
      <div class="products-list">
        <div class="product-item" *ngFor="let product of lowStockProducts">
          <div class="product-info">
            <h4>{{ product.nome }}</h4>
            <p>{{ product.categoria }}</p>
          </div>
          <div class="product-stock">
            <span class="stock-badge low">
              {{ product.estoqueAtual }} / {{ product.estoqueMinimo }}
            </span>
          </div>
        </div>
      </div>
    </div>

    <!-- AÃ§Ãµes RÃ¡pidas -->
    <div class="section">
      <div class="section-header">
        <h2>âš¡ AÃ§Ãµes RÃ¡pidas</h2>
      </div>
      <div class="quick-actions">
        <a routerLink="/sessions" class="action-card" *ngIf="!activeSession">
          <span class="action-icon">ğŸ¯</span>
          <h3>Abrir SessÃ£o</h3>
          <p>Iniciar novo perÃ­odo de operaÃ§Ã£o</p>
        </a>
        <a routerLink="/sales" class="action-card" *ngIf="activeSession">
          <span class="action-icon">ğŸ’°</span>
          <h3>Nova Venda</h3>
          <p>Registrar venda no PDV</p>
        </a>
        <a routerLink="/products" class="action-card">
          <span class="action-icon">ğŸ“¦</span>
          <h3>Gerenciar Produtos</h3>
          <p>Cadastrar ou editar produtos</p>
        </a>
        <a routerLink="/stock-movements" class="action-card">
          <span class="action-icon">ğŸ“Š</span>
          <h3>Movimentar Estoque</h3>
          <p>Entrada ou saÃ­da de produtos</p>
        </a>
      </div>
    </div>
  </div>
</div>
